/*!
 * vue-peity v0.3.0
 * (c) 2016 Fangdun Cai <cfddream@gmail.com>
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VuePeity=e():t.VuePeity=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var n,r;n=i(1),r=i(6),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(4),s=n(r),a=["line","bar","pie","donut"];e["default"]={props:{type:{type:String,required:!0,validator:function(t){return a.indexOf(t)>-1}},data:{type:String,required:!0},options:{type:Object,"default":function(){return{}}}},data:function(){return{chart:null}},mounted:function(){this.chart=new s["default"](this.$el,this.type,this.data,this.options),this.chart.draw()},watch:{data:function(t){var e=this;this.$nextTick(function(){e.chart.raw=t,e.chart.draw()})}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={options:{delimiter:",",fill:["#4D89F9"],height:16,min:0,padding:.1,width:32},draw:function(t){for(var e=this.values(),i=Math.max.apply(Math,void 0==t.max?e:e.concat(t.max)),n=Math.min.apply(Math,void 0==t.min?e:e.concat(t.min)),r=this.prepare(t.width,t.height),s=r.getBoundingClientRect(),a=s.width,o=s.height,u=i-n,l=t.padding,h=this.fill(),f=this.x=function(t){return t*a/e.length},d=this.y=function(t){return o-(u?(t-n)/u*o:1)},p=0;p<e.length;p++){var c,v=f(p+l),g=f(p+1-l)-v,m=e[p],y=d(m),x=y,w=y;u?m<0?x=d(Math.min(i,0)):w=d(Math.max(n,0)):c=1,c=w-x,0===c&&(c=1,i>0&&u&&x--),r.appendChild(this.svgElement("rect",{fill:h.call(this,m,p,e),x:v,y:x,width:g,height:c}))}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={options:{delimiter:",",fill:"#c6d9fd",height:16,min:0,stroke:"#4d89f9",strokeWidth:1,width:32},draw:function(t){var e=this.values();1===e.length&&e.push(e[0]);for(var i=Math.max.apply(Math,void 0==t.max?e:e.concat(t.max)),n=Math.min.apply(Math,void 0==t.min?e:e.concat(t.min)),r=this.prepare(t.width,t.height),s=r.getBoundingClientRect(),a=t.strokeWidth,o=s.width,u=s.height-a,l=i-n,h=this.x=function(t){return t*(o/(e.length-1))},f=this.y=function(t){var e=u;return l&&(e-=(t-n)/l*u),e+a/2},d=f(Math.max(n,0)),p=[0,d],c=0;c<e.length;c++)p.push(h(c),f(e[c]));p.push(o,d),t.fill&&r.appendChild(this.svgElement("polygon",{fill:t.fill,points:p.join(" ")})),a&&r.appendChild(this.svgElement("polyline",{fill:"none",points:p.slice(2,p.length-2).join(" "),stroke:t.stroke,"stroke-width":a,"stroke-linecap":"square"}))}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(2),o=n(a),u=i(3),l=n(u),h=i(5),f=n(h),d=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg",t);for(var n in e)i.setAttribute(n,e[n]);return i},p=function(){function t(e,i,n,s){r(this,t),this.$el=e,this.type=i,this.raw=n,this.options=Object.assign({},t.defaults[this.type],s)}return s(t,[{key:"svgElement",value:function(){return d.apply(void 0,arguments)}},{key:"prepare",value:function(t,e){return this.$svg||(this.$el.style.display="none",this.$svg=d("svg",{"class":"peity"}),this.$el.parentNode.insertBefore(this.$svg,this.$el)),this.$svg.innerHTML="",this.$svg.setAttribute("width",t),this.$svg.setAttribute("height",e),this.$svg}},{key:"fill",value:function(){var t=this.options.fill;return"function"==typeof t?t:function(e,i){return t[i%t.length]}}},{key:"draw",value:function(){t.graphers[this.type].call(this,this.options)}},{key:"values",value:function(){return this.raw.split(this.options.delimiter).map(function(t){return parseFloat(t)})}}]),t}();p.defaults={},p.graphers={},p.register=function(t,e){p.defaults[t]=e.options,p.graphers[t]=e.draw},p.register("bar",o["default"]),p.register("donut",f["default"]),p.register("line",l["default"]),p.register("pie",f["default"]),e["default"]=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={options:{fill:["#ff9900","#fff4dd","#ffc66e"],radius:8},draw:function(t){if(!t.delimiter){var e=this.raw.match(/[^0-9\.]/);t.delimiter=e?e[0]:","}var i=this.values().map(function(t){return t>0?t:0});if("/"===t.delimiter){var n=i[0],r=i[1];i=[n,Math.max(0,r-n)]}for(var s=0,a=i.length,o=0;s<a;s++)o+=i[s];o||(a=2,o=1,i=[0,1]);var u=2*t.radius,l=this.prepare(t.width||u,t.height||u),h=l.getBoundingClientRect(),f=h.width,d=h.height,p=f/2,c=d/2,v=Math.min(p,c),g=t.innerRadius;"donut"!==this.type||g||(g=.5*v);var m=Math.PI,y=this.fill(),x=this.scale=function(t,e){var i=t/o*m*2-m/2;return[e*Math.cos(i)+p,e*Math.sin(i)+c]},w=0;for(s=0;s<a;s++){var M,b=i[s],_=b/o;if(0!==_){if(1===_)if(g){var j=p-.01,k=c-v,$=c-g;M=this.svgElement("path",{d:["M",p,k,"A",v,v,0,1,1,j,k,"L",j,$,"A",g,g,0,1,0,p,$].join(" ")})}else M=this.svgElement("circle",{cx:p,cy:c,r:v});else{var E=w+b,O=["M"].concat(x(w,v),"A",v,v,0,_>.5?1:0,1,x(E,v),"L");g?O=O.concat(x(E,g),"A",g,g,0,_>.5?1:0,0,x(w,g)):O.push(p,c),w+=b,M=this.svgElement("path",{d:O.join(" ")})}M.setAttribute("fill",y.call(this,b,s,i)),l.appendChild(M)}}}}},function(t,e){t.exports=" <span></span> "}])});